flowchart LR
    %% Define Client and API
    Client("fa:fa-laptop Client") --> API("fa:fa-server FastAPI App")
    
    %% Define Backend with styling
    subgraph Backend["fa:fa-cogs Backend Architecture"]
        style Backend fill:#f5f5ff,stroke:#6366f1,stroke-width:2px,color:black
        
        %% Define routers with icons
        API --> UserRoutes("fa:fa-users User Routes")
        API --> DocumentRoutes("fa:fa-file-text Document Routes")
        
        %% Define services with icons
        UserRoutes --> UserService("fa:fa-user-circle User Endpoints")
        UserRoutes --> AuthService("fa:fa-key Authentication Endpoint")
        DocumentRoutes --> DocumentService("fa:fa-file-pdf Document Endpoints")
        DocumentRoutes --> PreviewService("fa:fa-image Preview Endpoints")
        
        %% Define data layer with icons
        UserService --> AuthManager("fa:fa-database Auth Manager")
        AuthService --> AuthManager
        DocumentService --> DocumentManager("fa:fa-cogs Document Manager")
        PreviewService --> PreviewManager("fa:fa-cogs Preview Manager")
        
        %% Define storage with icons
        AuthManager --> DB[("fa:fa-hdd-o PostgreSQL Database")]
        
        DocumentManager --> FileStorage("fa:fa-folder File Storage")
        PreviewManager --> FileStorage
        DocumentManager --> DB
        PreviewManager --> DB
    end
    
    %% Styling for components
    style Client fill:#d1fae5,stroke:#059669,stroke-width:2px,color:black
    style API fill:#e0f2fe,stroke:#0284c7,stroke-width:2px,color:black
    style UserRoutes fill:#dbeafe,stroke:#3b82f6,stroke-width:2px,color:black
    style DocumentRoutes fill:#dbeafe,stroke:#3b82f6,stroke-width:2px,color:black
    style UserService fill:#ede9fe,stroke:#8b5cf6,stroke-width:2px,color:black
    style AuthService fill:#ede9fe,stroke:#8b5cf6,stroke-width:2px,color:black
    style DocumentService fill:#ede9fe,stroke:#8b5cf6,stroke-width:2px,color:black
    style PreviewService fill:#ede9fe,stroke:#8b5cf6,stroke-width:2px,color:black
    style AuthManager fill:#fef3c7,stroke:#d97706,stroke-width:2px,color:black
    style DocumentManager fill:#fef3c7,stroke:#d97706,stroke-width:2px,color:black
    style PreviewManager fill:#fef3c7,stroke:#d97706,stroke-width:2px,color:black
    style DB fill:#fee2e2,stroke:#dc2626,stroke-width:2px,color:black
    style FileStorage fill:#fee2e2,stroke:#dc2626,stroke-width:2px,color:black