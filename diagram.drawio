<mxfile host="65bd71144e">
    <diagram id="lzZtJqDfSZuDb2sFJaUa" name="Page-1">
        <mxGraphModel dx="1560" dy="666" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="2" value="flowchart LR&#xa;    Client[Client Browser] &lt;--&gt; Frontend[Frontend&lt;br&gt;Vite + React + TypeScript]&#xa;    Frontend &lt;--&gt; Backend[Backend&lt;br&gt;FastAPI]&#xa;    Backend &lt;--&gt; DB[(PostgreSQL)]&#xa;    Backend &lt;--&gt; DocStore[Documents Storage]&#xa;    &#xa;    subgraph &quot;Client Side&quot;&#xa;        Client&#xa;        Frontend&#xa;    end&#xa;    &#xa;    subgraph &quot;Server Side&quot;&#xa;        Backend&#xa;        DB&#xa;        DocStore&#xa;    end" style="shadow=0;dashed=0;align=left;strokeWidth=1;shape=mxgraph.mermaid.abstract.mermaid;labelBackgroundColor=#ffffff;noLabel=1;theme=default;" parent="1" vertex="1">
                    <mxGeometry x="40" y="40" width="520" height="160" as="geometry"/>
                </mxCell>
                <mxCell id="3" value="Architecture" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="255" y="40" width="90" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="4" value="flowchart TD&#xa;    User([Utilisateur]) --&gt; AuthCase[S&#39;authentifier]&#xa;    User --&gt; UploadDocCase[Uploader documents]&#xa;    User --&gt; ViewDocCase[Visualiser documents]&#xa;    User --&gt; SearchDocCase[Rechercher documents]&#xa;    User --&gt; PreviewDocCase[Afficher aperçus]&#xa;    &#xa;    Admin([Administrateur]) --&gt; UserManageCase[Gérer utilisateurs]&#xa;    Admin --&gt; DocManageCase[Gérer documents]&#xa;    Admin --&gt; AuthCase&#xa;    Admin --&gt; UploadDocCase&#xa;    Admin --&gt; ViewDocCase&#xa;    Admin --&gt; SearchDocCase&#xa;    Admin --&gt; PreviewDocCase" style="shadow=0;dashed=0;align=left;strokeWidth=1;shape=mxgraph.mermaid.abstract.mermaid;labelBackgroundColor=#ffffff;noLabel=1;theme=default;" parent="1" vertex="1">
                    <mxGeometry x="15" y="220" width="590" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="5" value="Use Case" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="270" y="200" width="80" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="6" value="flowchart TD&#xa;    Client[Client] --&gt; API[FastAPI App]&#xa;    &#xa;    subgraph &quot;Backend&quot;&#xa;        API --&gt; RouterUsers[Users Router]&#xa;        API --&gt; RouterDocuments[Documents Router]&#xa;        &#xa;        RouterUsers --&gt; UserService[User Service]&#xa;        RouterUsers --&gt; AuthService[Auth Service]&#xa;        RouterDocuments --&gt; DocumentService[Document Service]&#xa;        RouterDocuments --&gt; PreviewService[Preview Service]&#xa;        &#xa;        UserService --&gt; DataLayer[Data Layer]&#xa;        AuthService --&gt; DataLayer&#xa;        DocumentService --&gt; DataLayer&#xa;        PreviewService --&gt; DataLayer&#xa;        &#xa;        DataLayer --&gt; DB[(SQLite Database)]&#xa;        &#xa;        DocumentService --&gt; FileStorage[File Storage]&#xa;        PreviewService --&gt; FileStorage&#xa;    end" style="shadow=0;dashed=0;align=left;strokeWidth=1;shape=mxgraph.mermaid.abstract.mermaid;labelBackgroundColor=#ffffff;noLabel=1;theme=default;" parent="1" vertex="1">
                    <mxGeometry x="40" y="395" width="400" height="380" as="geometry"/>
                </mxCell>
                <mxCell id="7" value="Archi Backend" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="190" y="395" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="8" value="erDiagram&#xa;    USERS {&#xa;        int id PK&#xa;        string username&#xa;        string password_hash&#xa;        boolean is_active&#xa;        boolean is_admin&#xa;        datetime creation_date&#xa;    }&#xa;    &#xa;    DOCUMENTS {&#xa;        int id PK&#xa;        string filename&#xa;        string display_name&#xa;        string file_path&#xa;        string mime_type&#xa;        int user_id FK&#xa;        datetime upload_date&#xa;        string status&#xa;    }&#xa;    &#xa;    PREVIEWS {&#xa;        int id PK&#xa;        int document_id FK&#xa;        string preview_path&#xa;        string preview_type&#xa;        datetime generation_date&#xa;    }&#xa;    &#xa;    USERS ||--o{ DOCUMENTS : uploads&#xa;    DOCUMENTS ||--o{ PREVIEWS : has" style="shadow=0;dashed=0;align=left;strokeWidth=1;shape=mxgraph.mermaid.abstract.mermaid;labelBackgroundColor=#ffffff;noLabel=1;theme=default;" parent="1" vertex="1">
                    <mxGeometry x="580" y="365" width="200" height="520" as="geometry"/>
                </mxCell>
                <mxCell id="9" value="Database" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="645" y="350" width="70" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="10" value="flowchart TD&#xa;    App --&gt; AuthProvider[Auth Provider]&#xa;    App --&gt; Router[React Router]&#xa;    &#xa;    Router --&gt; PublicRoutes[Public Routes]&#xa;    Router --&gt; ProtectedRoutes[Protected Routes]&#xa;    &#xa;    PublicRoutes --&gt; LoginPage[Login Page]&#xa;    PublicRoutes --&gt; RegisterPage[Register Page]&#xa;    &#xa;    ProtectedRoutes --&gt; Dashboard[Dashboard]&#xa;    ProtectedRoutes --&gt; DocumentsPage[Documents Page]&#xa;    ProtectedRoutes --&gt; DocumentViewPage[Document View Page]&#xa;    ProtectedRoutes --&gt; UserProfile[User Profile]&#xa;    &#xa;    subgraph &quot;State Management&quot;&#xa;        AuthContext[Auth Context]&#xa;        DocumentsContext[Documents Context]&#xa;    end&#xa;    &#xa;    Dashboard --&gt; DocumentStats[Document Stats]&#xa;    DocumentsPage --&gt; DocumentList[Document List]&#xa;    DocumentsPage --&gt; DocumentFilter[Document Filter]&#xa;    DocumentViewPage --&gt; DocumentPreview[Document Preview]&#xa;    DocumentViewPage --&gt; DocumentDetails[Document Details]&#xa;    &#xa;    subgraph &quot;API Integration&quot;&#xa;        ApiService[API Service]&#xa;        AuthService[Auth Service]&#xa;        DocumentsService[Documents Service]&#xa;    end&#xa;    &#xa;    AuthContext &lt;--&gt; AuthService&#xa;    DocumentsContext &lt;--&gt; DocumentsService&#xa;    AuthService &lt;--&gt; Backend[Backend API]&#xa;    DocumentsService &lt;--&gt; Backend" style="shadow=0;dashed=0;align=left;strokeWidth=1;shape=mxgraph.mermaid.abstract.mermaid;labelBackgroundColor=#ffffff;noLabel=1;theme=default;" parent="1" vertex="1">
                    <mxGeometry x="-630" y="395" width="630" height="520" as="geometry"/>
                </mxCell>
                <mxCell id="11" value="Archi Frontend" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-365" y="500" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="12" value="sequenceDiagram&#xa;    actor User&#xa;    participant Frontend as React Frontend&#xa;    participant AuthAPI as Auth API (/token)&#xa;    participant DB as Database&#xa;    &#xa;    User-&gt;&gt;Frontend: Saisit identifiants&#xa;    Frontend-&gt;&gt;AuthAPI: POST /token (form-urlencoded)&#xa;    AuthAPI-&gt;&gt;DB: Vérifie identifiants&#xa;    DB--&gt;&gt;AuthAPI: Données utilisateur&#xa;    &#xa;    alt Authentification réussie&#xa;        AuthAPI--&gt;&gt;Frontend: Token JWT&#xa;        Frontend-&gt;&gt;Frontend: Stocke le token&#xa;        Frontend-&gt;&gt;Frontend: Redirige vers Dashboard&#xa;        Frontend--&gt;&gt;User: Affiche Dashboard&#xa;    else Authentification échouée&#xa;        AuthAPI--&gt;&gt;Frontend: 401 Unauthorized&#xa;        Frontend--&gt;&gt;User: Affiche erreur&#xa;    end" style="shadow=0;dashed=0;align=left;strokeWidth=1;shape=mxgraph.mermaid.abstract.mermaid;labelBackgroundColor=#ffffff;noLabel=1;theme=default;" parent="1" vertex="1">
                    <mxGeometry x="936" y="115" width="610" height="530" as="geometry"/>
                </mxCell>
                <mxCell id="13" value="Auth sequence" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="1191" y="85" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="14" value="flowchart LR&#xa;    Code[Code Source] --&gt; DockerBuild[Docker Build]&#xa;    &#xa;    DockerBuild --&gt; BackendImage[Backend Image]&#xa;    DockerBuild --&gt; FrontendImage[Frontend Image]&#xa;    &#xa;    BackendImage --&gt; DockerCompose[Docker Compose]&#xa;    FrontendImage --&gt; DockerCompose&#xa;    &#xa;    DockerCompose --&gt; BackendContainer[Backend Container]&#xa;    DockerCompose --&gt; FrontendContainer[Frontend Container]&#xa;    DockerCompose --&gt; NginxContainer[Nginx Container]&#xa;    &#xa;    NginxContainer --&gt; FrontendServing[Frontend Serving]&#xa;    NginxContainer --&gt; BackendProxy[Backend API Proxy]&#xa;    &#xa;    BackendContainer --&gt; DBVolume[Database Volume]&#xa;    BackendContainer --&gt; DocumentsVolume[Documents Volume]" style="shadow=0;dashed=0;align=left;strokeWidth=1;shape=mxgraph.mermaid.abstract.mermaid;labelBackgroundColor=#ffffff;noLabel=1;theme=default;" parent="1" vertex="1">
                    <mxGeometry x="850" y="790" width="800" height="200" as="geometry"/>
                </mxCell>
                <mxCell id="15" value="CI/CD" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="1220" y="760" width="60" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="16" value="flowchart TD&#xa;    App --&gt; ThemeProvider[Theme Provider]&#xa;    App --&gt; AuthProvider[Auth Provider]&#xa;    App --&gt; Routes[Routes Component]&#xa;    &#xa;    Routes --&gt; Layout[Layout Component]&#xa;    Layout --&gt; Navbar[Navbar Component]&#xa;    Layout --&gt; Sidebar[Sidebar Component]&#xa;    Layout --&gt; ContentArea[Content Area]&#xa;    &#xa;    ContentArea --&gt; RouteComponents{Route Components}&#xa;    &#xa;    RouteComponents --&gt; LoginPage[Login Page]&#xa;    RouteComponents --&gt; RegisterPage[Register Page]&#xa;    RouteComponents --&gt; Dashboard[Dashboard Page]&#xa;    RouteComponents --&gt; DocumentsPage[Documents Page]&#xa;    RouteComponents --&gt; DocumentViewPage[Document View Page]&#xa;    RouteComponents --&gt; UserProfilePage[User Profile Page]&#xa;    &#xa;    DocumentsPage --&gt; DocumentsGrid[Documents Grid]&#xa;    DocumentsGrid --&gt; DocumentCard[Document Card]&#xa;    DocumentsPage --&gt; DocumentFilters[Document Filters]&#xa;    &#xa;    DocumentViewPage --&gt; DocumentViewer[Document Viewer]&#xa;    DocumentViewPage --&gt; DocumentMetadata[Document Metadata]&#xa;    &#xa;    subgraph &quot;Shared Components&quot;&#xa;        Button[Button]&#xa;        Input[Input]&#xa;        Card[Card]&#xa;        Alert[Alert]&#xa;        Modal[Modal]&#xa;    end" style="shadow=0;dashed=0;align=left;strokeWidth=1;shape=mxgraph.mermaid.abstract.mermaid;labelBackgroundColor=#ffffff;noLabel=1;theme=default;" parent="1" vertex="1">
                    <mxGeometry x="-390" y="885" width="880" height="680" as="geometry"/>
                </mxCell>
                <mxCell id="17" value="Frontend components" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-20" y="960" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="18" value="sequenceDiagram&#xa;    actor User&#xa;    participant Frontend as React Frontend&#xa;    participant DocAPI as Documents API&#xa;    participant Storage as File Storage&#xa;    participant Preview as Preview Generator&#xa;    participant DB as Database&#xa;    &#xa;    User-&gt;&gt;Frontend: Upload document&#xa;    Frontend-&gt;&gt;DocAPI: POST /documents&#xa;    DocAPI-&gt;&gt;Storage: Sauvegarde fichier&#xa;    Storage--&gt;&gt;DocAPI: Chemin fichier&#xa;    DocAPI-&gt;&gt;DB: Enregistre métadonnées&#xa;    DB--&gt;&gt;DocAPI: Document ID&#xa;    DocAPI--&gt;&gt;Frontend: Document créé&#xa;    &#xa;    DocAPI-&gt;&gt;Preview: Demande génération aperçu&#xa;    Preview-&gt;&gt;Storage: Lit document source&#xa;    Storage--&gt;&gt;Preview: Contenu document&#xa;    Preview-&gt;&gt;Preview: Génère aperçu&#xa;    Preview-&gt;&gt;Storage: Sauvegarde aperçu&#xa;    Storage--&gt;&gt;Preview: Chemin aperçu&#xa;    Preview-&gt;&gt;DB: Enregistre métadonnées aperçu&#xa;    DB--&gt;&gt;Preview: Aperçu ID&#xa;    &#xa;    Frontend-&gt;&gt;DocAPI: GET /documents/{id}/preview&#xa;    DocAPI-&gt;&gt;DB: Récupère info aperçu&#xa;    DB--&gt;&gt;DocAPI: Chemin aperçu&#xa;    DocAPI--&gt;&gt;Frontend: URL aperçu&#xa;    Frontend--&gt;&gt;User: Affiche aperçu document" style="shadow=0;dashed=0;align=left;strokeWidth=1;shape=mxgraph.mermaid.abstract.mermaid;labelBackgroundColor=#ffffff;noLabel=1;theme=default;" vertex="1" parent="1">
                    <mxGeometry x="1710" y="100" width="690" height="560" as="geometry"/>
                </mxCell>
                <mxCell id="19" value="Doc sequence" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
                    <mxGeometry x="2005" y="85" width="100" height="30" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>